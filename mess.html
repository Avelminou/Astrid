<!DOCTYPE html>
<html lang="fr">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Chat Firebase avec Son & Date</title>
  <link rel="stylesheet" href="mess.css">
</head>

<body>
  <div class="head">
    <button class="menu" onclick="openDrawer()">☰</button>
    <strong class="titre">Astrid</strong>
  </div>

  <div class="drawer" id="drawer">
    <!-- Bouton pour fermer le tiroir -->
    <button class="btn-close" onclick="closeDrawer()" id="close" style="display: none;">✕</button>
    <button onclick="basculerMode()" id="btnMode"  style="font-size: 20px;
    border: 0; width: 266px; border: solid 2px rgba(245, 222, 179, 0); display: none;">🔁 Passer en mode privé</button>
    <button class="gr" onclick="location.reload()" id="MdGroupe"   style="font-size: 16px;
    background-color: rgba(0, 0, 255, 0); border: solid 2px rgba(102, 102, 126, 0); width: 266px;">🔁 Passer en mode groupe</button>

    <div class="photos_couverture">
      <div class="photos_profil"></div>
    </div>

    <br>
    <center>
      <b>
        <div id="monNom"></div>
      </b>
      <div style="display: flex; justify-content: center;">
        <button id="changerNom" onclick="changeP()">✏️</button>
        <input style="display: none;" type="text" id="pseudo" placeholder="Votre nom">
        <button style="margin-left: 5px;" onclick="changerPseudo()">Save</button>
      </div>
    </center>

    <div id="utilisateur" style="padding: 10px;"></div>

    <div id="listeUtilisateurs"></div>

  </div>

  <div style="height: 35px;"></div>
  <div id="messages"></div>

  <div class="send">
    <div style="display: flex;align-items: center;margin: 2px;">
      <button style="border-radius: 4px; border: 0; width: 30px; height: 30px;">+</button>
    </div>
    <textarea type="text" id="message" placeholder="Votre message"></textarea>
    <div style="display: flex;align-items: center; margin: 2px;">
      <button class="btn" onclick="envoyerMessage(idMessageRepondu)">￪</button>
    </div>
  </div>

  <!-- Ton son personnalisé -->
  <audio id="notificationSound" preload="auto">
    <source src="bling.mp3" type="audio/mpeg">
    Votre navigateur ne supporte pas l’audio.
  </audio>

  <!-- Modal pour modifier -->
  <div id="modalModif" class="modal">
    <div class="modal-content" style="color: black;">
      <button style="float: right; font-size: 17px; " onclick="quitter()">x</button>
      <p style="color: white;">Vous voulez supprimer ce message !<br>
        Cliquer sur <k style="color: crimson;">Supprimer</k> ou <j style="color: blue;">Annuler</j> en x</p>
      <button style="margin-left: 40%;" onclick="deleteLe()">Supprimer</button>
    </div>
  </div>

  <!-- Firebase SDK (compat) -->
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-firestore-compat.js"></script>
  <script src="mess.js"></script>
  <script src="setting.js"></script>
</body>

</html>